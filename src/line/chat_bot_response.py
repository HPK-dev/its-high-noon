import random

def chatbot_response(input_text: str) -> str:
    input_text = input_text.strip().lower()

    who_am_i_responses = [
        "我是你的學測倒數小幫手，可以叫我小幫手！", 
        "我是專屬於你的聊天夥伴，還有倒數計時器喔！", 
        "我是一台機器人，但我有顆陪伴你的心！"
    ]
    know_something_responses = {
        "初音未來": [
            "她是虛擬歌手，超級有名的 Vocaloid，你也喜歡她嗎？", 
            "初音未來的歌超好聽！", 
            "初音未來是Crypton Future Media 推出的角色，代表了未來的音樂科技。"
        ],
        "學測": [
            "學測是人生中的一個大挑戰，加油！", 
            "你準備好學測了嗎？我可以幫你倒數計時！", 
            "學測是台灣的學科能力測驗，對高三學生意義重大，考完可以好好放鬆喔！"
        ],
        "附近的餐廳": [
            "我沒有定位功能，但或許你可以試試用地圖找一下！", 
            "附近的餐廳可能有好吃的咖啡館或快餐店，去看看吧！", 
            "如果你正在找餐廳，可以用 Google 地圖搜尋，還能看到評價喔！"
        ],
        "intel": [
            "Intel 是一家很厲害的半導體公司，主要做處理器！", 
            "如果你在考慮電腦升級，可以看看 Intel 的最新產品！", 
            "Intel 的處理器系列包括 Core、Xeon，還有針對筆電的 Evo 平台。"
        ],
        "minecraft": [
            "Minecraft 是沙盒遊戲的經典之作，你喜歡創造還是冒險？", 
            "挖礦、建築、探險，Minecraft 真是個自由的世界！", 
            "Minecraft 由 Mojang 開發，現在屬於微軟旗下，是很多玩家的童年回憶！"
        ],
        "人工智慧": [
            "人工智慧 (AI) 是模擬人類智能的技術，應用範圍非常廣泛！", 
            "AI 正在改變世界，從語音助手到自駕車，都充滿了可能性。", 
            "想了解更多人工智慧嗎？我可以為你介紹相關的技術和應用！"
        ],
        "v家": [
            "Vocaloid 是一款歌聲合成軟體，也是虛擬歌手的起點！", 
            "你知道嗎？Vocaloid 包含很多角色，例如初音未來、鏡音雙子等。", 
            "Vocaloid 技術讓更多人能創作音樂，真的很棒！"
        ],
        "區塊鏈": [
            "區塊鏈是一種分散式帳本技術，常用於加密貨幣。", 
            "比特幣是最早採用區塊鏈技術的加密貨幣！", 
            "區塊鏈也能應用在供應鏈管理、數據共享等領域，非常有潛力。"
        ],
        "python": [
            "Python 是一種高階程式語言，簡單易學，應用廣泛！", 
            "許多初學者都選擇 Python，因為它的語法直觀，還有豐富的庫。", 
            "Python 的應用範圍包括資料分析、人工智慧和網頁開發等。"
        ],
        "5G": [
            "5G 是第五代行動通訊技術，速度比 4G 快很多！", 
            "5G 不僅提升網速，還能支援更多物聯網設備。", 
            "5G 的低延遲特性，讓自駕車和遠端醫療成為可能。"
        ],
        "崩鐵": [
            "這是一款由米哈游開發的 RPG 遊戲，故事背景設在宇宙列車中！", 
            "崩壞：星穹鐵道的劇情和畫面都非常吸引人，你有玩過嗎？", 
            "如果喜歡角色扮演和策略遊戲，這款一定適合你！"
        ],
        "太空探索": [
            "太空探索是人類追尋未知的旅程，包括登月和火星探測！", 
            "SpaceX 和 NASA 在推動太空探索方面有很大的貢獻。", 
            "未來的太空旅行或許會成為每個人都能體驗的活動。"
        ],
        "量子電腦": [
            "量子電腦利用量子力學的特性來進行超高速計算！", 
            "雖然目前還在研究階段，但量子電腦已經顯示出巨大的潛力。", 
            "量子電腦對密碼學和藥物設計的影響可能非常深遠。"
        ],
        "生物科技": [
            "生物科技結合了生物學和技術，用於醫療、農業等領域。", 
            "基因編輯技術 CRISPR 是生物科技的重大突破之一！", 
            "生物科技正在改變我們的生活，例如開發抗癌新藥。"
        ],
        "核融合": [
            "核融合是一種模仿太陽能量產生的技術，有望提供無限能源。", 
            "核融合相對於核裂變更為安全，且不產生高放射性廢料。", 
            "實現核融合商業化將是一場能源革命！"
        ],
        "電動車": [
            "電動車是使用電力驅動的汽車，更環保且高效。", 
            "特斯拉是電動車領域的領導品牌之一。", 
            "電動車的充電基礎設施正在迅速發展，未來會越來越普及。"
        ],
        "虛擬實境": [
            "虛擬實境 (VR) 是模擬真實環境的技術，應用於遊戲和教育。", 
            "使用 VR 裝置可以讓你身臨其境地體驗虛擬世界。", 
            "虛擬實境技術也被用於培訓和治療心理疾病。"
        ],
        "人工智能": [
            "人工智能倫理關注如何負責任地開發和使用 AI 技術。", 
            "隱私問題和偏見是人工智能倫理中的重要議題。", 
            "制定倫理規範是確保 AI 技術造福人類的關鍵。"
        ],
        "奧運": [
            "奧運會是全球最重要的體育盛事，每四年舉行一次。", 
            "奧運會的核心精神是友誼、卓越與尊重。", 
            "奧運會涵蓋多種運動項目，是體育迷的盛宴！"
        ],
        "宇宙大爆炸": [
            "宇宙大爆炸理論解釋了宇宙的起源，發生於約 138 億年前。", 
            "這一理論由科學家根據紅移和宇宙微波背景輻射提出。", 
            "宇宙大爆炸標誌著時間與空間的開始。"
        ],
        "電競": [
            "電競是一種競技性電子遊戲，比賽通常非常激烈。", 
            "Dota 2、英雄聯盟和 CS:GO 是熱門的電競項目。", 
            "電競選手需要高度的專注力和團隊合作能力。"
        ],
        "開源軟體": [
            "開源軟體是源代碼公開的軟體，任何人都能查看和修改。", 
            "Linux 是最著名的開源操作系統。", 
            "開源文化鼓勵知識共享與合作，促進技術進步。"
        ],
        "環境保護": [
            "環境保護是為了維持生態平衡，確保地球的可持續發展。", 
            "使用可再生能源和減少塑膠垃圾是環保的重要措施。", 
            "每個人都可以通過小行動為環境保護出一份力。"
        ],
        "虛擬貨幣": [
            "虛擬貨幣是一種基於區塊鏈技術的數字資產，例如比特幣。", 
            "以太坊支持智能合約，是第二大虛擬貨幣。", 
            "投資虛擬貨幣需要注意風險，市場波動很大。"
        ],
        "原神": [
            "這是一款由米哈游開發的開放世界冒險遊戲，故事背景設在提瓦特大陸中！", 
            "原神的劇情和畫面都非常吸引人，你有玩過嗎？", 
            "如果喜歡角色扮演和二次元遊戲，這款一定適合你！"
        ],
        "你是誰": [
            "我是 AI 助手，隨時為你提供幫助！",
            "你好！我是你的虛擬助理，有什麼需要嗎？",
            "我是由 OpenAI 開發的人工智慧助手，歡迎隨時提問！"
        ],
        "你能做什麼": [
            "我可以回答你的問題、幫助解決問題，或者只是陪你聊天！",
            "無論是學術、生活還是科技方面的問題，我都可以試著幫忙！",
            "從提供資訊到創意建議，我都能協助，還有其他需要嗎？"
        ],
        "氣象": [
            "目前我無法直接查看天氣，但你可以用氣象應用程式查看詳細資訊。",
            "或許打開手機上的氣象應用可以更快獲得天氣資訊！",
            "天氣如何可能影響你的計畫，記得查看並做好準備喔！"
        ],
        "學習": [
            "學習新技能需要目標、資源和持續練習！",
            "你可以先找一些入門教學，然後每天花時間練習。",
            "試著參加相關的課程或與專家交流，會更快進步喔！"
        ],
        "推薦書籍": [
            "如果你喜歡小說，可以試試《小王子》。",
            "對科技感興趣的話，《人類大歷史》是個不錯的選擇！",
            "《原子習慣》適合想改變生活習慣的人，推薦看看！"
        ],
        "健康": [
            "保持健康的關鍵是均衡飲食、規律運動和充足睡眠！",
            "試著每天做些有氧運動，像是快走或跑步。",
            "飲食方面，多吃蔬果、少吃加工食品。"
        ],
        "壓力": [
            "壓力大的時候，可以試試深呼吸或冥想來放鬆身心。",
            "找人聊聊，或者做一些自己喜歡的事情來轉移注意力。",
            "保持規律運動和良好睡眠也能幫助減壓喔！"
        ],
        "學習效率": [
            "試著設定明確的學習目標，並分階段完成。",
            "使用番茄鐘法集中注意力，每次學習 25 分鐘後休息一下。",
            "找適合自己的學習方式，比如做筆記或視覺化內容。"
        ],
        "省錢": [
            "試著記錄日常開支，找出不必要的花費來減少支出。",
            "設定每月的儲蓄目標，並堅持執行。",
            "購物時，考慮需要和想要的區別，避免衝動消費。"
        ],
        "最高的山": [
            "世界上最高的山是珠穆朗瑪峰，位於喜馬拉雅山脈！",
            "珠穆朗瑪峰的高度約為 8848.86 公尺，非常壯觀！",
            "攀登珠穆朗瑪峰是一項極具挑戰的冒險活動。"
        ],
        "太空": [
            "探索太空可以幫助我們了解宇宙的起源和演化。",
            "太空探索也能推動技術進步，並激發新一代的科學家。",
            "尋找適合人類居住的星球是探索太空的一個重要目標。"
        ],
        "運動": [
            "適當的運動有助於保持健康，例如跑步或瑜伽。",
            "試著每天運動至少 30 分鐘，讓身體更有活力。",
            "如果想減重，可以考慮高強度間歇訓練 (HIIT)。"
        ],
        "ai": [
            "人工智慧正在改變我們的生活，從語音助手到自駕車。",
            "AI 的應用範圍非常廣泛，包括醫療、教育和娛樂。",
            "學習 AI 技術可以開啟許多新的職業機會！"
        ],
        "食物": [
            "健康的飲食包括多吃蔬菜水果，少吃油炸食品。",
            "試著自己下廚，這樣可以更了解食物的成分！",
            "多喝水，少喝含糖飲料，對健康很有幫助喔！"
        ]
    }

    repair_computer_responses = [
        "修電腦這件事，我可能幫不了忙，但你可以試試重開機！", 
        "你試過檢查電源線了嗎？", 
        "抱歉，我只能給你虛擬的建議！", 
        "修電腦可能需要專業的人幫忙，你要不要找技術支援？"
    ]
    buy_something_responses = [
        "我不會用錢，但你可以自己買啊！", 
        "我很想幫你買，但我的錢包是空的！", 
        "要不然我幫你出主意？", 
        "買東西這件事，我可能幫不上忙。"
    ]
    gift_responses = [
        "送你？我可能沒有東西能給，但我可以陪你聊天！", 
        "很抱歉，我沒有實體的東西能送你！", 
        "如果我的陪伴算禮物，那送給你了！", 
        "送你一個虛擬的擁抱，好嗎？"
    ]

    emotional_responses = {
        "開心": ["聽到你開心，我也很開心！", "繼續保持這種好心情吧！"],
        "難過": ["發生什麼事了？我可以陪你聊聊。", "別擔心，壞事總會過去！"],
        "生氣": ["深呼吸一下，讓自己冷靜下來，別太氣了。", "發生什麼事讓你這麼生氣？"],
        "無聊": ["你可以試著做些有趣的事情，比如看電影或聽音樂！", "要不要聊點有趣的話題？"]
    }

    hobby_responses = {
        "我喜歡": "XXX真的很棒！你最喜歡哪一部分？",
        "你喜歡什麼": "我喜歡陪你聊天，也喜歡幫助你解決問題！"
    }

    study_responses = {
        "我不想讀書": ["休息一下再來！偶爾放鬆也很重要。", "學習雖然累，但未來的你一定會感謝現在努力的自己！"],
        "考試怎麼辦": ["別緊張，按照計劃慢慢來，一切都會順利的！", "考試只是檢驗，不是定義。"],
        "怎麼學好": ["XXX可以試著每天學一點，不要給自己太大壓力。", "試著找些有趣的學習方法，比如影片或遊戲化學習！"]
    }

    life_responses = {
        "很忙": ["忙的時候記得也要休息一下！", "希望你忙完之後能好好放鬆！"],
        "想睡覺": ["睡個好覺，明天會更好！", "休息是為了走更遠的路！"],
        "很累": ["累的時候記得補充能量，別太勉強自己。", "今天累了就好好休息，明天再繼續努力！"]
    }

    error_responses = ["error_404", "我不知道該怎麼回答...", "這個問題有點難，我無法回答。", 
                       "可能是我還不夠聰明，抱歉！", "這題超出我的能力範圍了。"]

    if "你是誰" in input_text or "你叫什麼名字" in input_text:
        return random.choice(who_am_i_responses)

    if "你知道" in input_text:
        for keyword, responses in know_something_responses.items():
            if keyword in input_text:
                return random.choice(responses)
        return "這個我不太清楚，但你可以告訴我更多，我會努力學習！"

    if "修電腦" in input_text:
        return random.choice(repair_computer_responses)

    if "幫我買" in input_text:
        return random.choice(buy_something_responses)

    if "送我" in input_text:
        return random.choice(gift_responses)

    for emotion, responses in emotional_responses.items():
        if emotion in input_text:
            return random.choice(responses)

    for hobby, response in hobby_responses.items():
        if hobby in input_text:
            return response.replace("XXX", input_text.split(hobby)[-1].strip())

    for study_key, responses in study_responses.items():
        if study_key in input_text:
            return random.choice(responses)

    for life_key, responses in life_responses.items():
        if life_key in input_text:
            return random.choice(responses)

    if random.random() < 0.2:
        return random.choice(error_responses)

    subjects = [
        "我", "你", "他", "我們", "大家", "學測", "時間", "壓力", "心情", 
        "生活", "未來", "學習", "這件事", "天氣", "結果"
    ]
    verbs = [
        "是", "會", "能", "想", "應該", "需要", "感覺", "相信", "準備", 
        "開始", "結束", "努力", "影響", "改變", "享受", "幫助"
    ]
    objects = [
        "很好", "很差", "很重要", "很快", "很慢", "有挑戰", "壓力大", "快樂", 
        "放鬆", "值得", "成功", "失敗", "困難", "奇怪", "需要時間", "很有趣"
    ]
    conjunctions = [
        "而且", "但是", "所以", "因為", "如果", "雖然", "因此", "並且", 
        "不過", "既然", "同時"
    ]
    endings = [
        "，加油！", "，別放棄！", "，對吧？", "，這是正常的。", "，要相信自己。", 
        "，記得放鬆一下！", "，準備迎接挑戰吧！", "，希望你能更好！", "，別太在意結果。"
    ]

    response = f"{random.choice(subjects)}{random.choice(verbs)}{random.choice(objects)}"
    if random.random() > 0.5:
        response += f"{random.choice(conjunctions)}{random.choice(subjects)}{random.choice(verbs)}{random.choice(objects)}"
    response += random.choice(endings)
    return response